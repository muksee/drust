<mxfile host="65bd71144e">
    <diagram name="第 1 页" id="6XiFniJ_3vb5GIvCf4X_">
        <mxGraphModel dx="2479" dy="1039" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-1" value="&lt;b&gt;FnOnce&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;align=left;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="220" y="360" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-2" value="&lt;b&gt;Fn: &lt;/b&gt;&lt;font color=&quot;#808080&quot; style=&quot;font-size: 13px;&quot;&gt;FnMut,FnOnce&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;align=left;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="220" y="600" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-3" value="&lt;b&gt;FnMut: &lt;/b&gt;&lt;font color=&quot;#808080&quot; style=&quot;font-size: 13px;&quot;&gt;FnOnce&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;align=left;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="220" y="520" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fontSize=13;strokeColor=#000000;" parent="1" source="Zlmr2kHPyGNLL76UW4VX-4" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="20" y="630" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-4" value="[按引用]&lt;br&gt;将共享引用移入&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="600" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-5" value="消耗f, 只调一次&lt;br style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;更新f, 可调多次&lt;br style=&quot;font-size: 13px;&quot;&gt;共享f, 可调多次" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="501" y="600" width="99" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-9" value="call_once(&lt;font style=&quot;border-color: var(--border-color); font-size: 13px;&quot; color=&quot;#ff0000&quot;&gt;&lt;b style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;self&lt;/b&gt;&lt;/font&gt;,args)&lt;br style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;call_mut(&lt;b style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 13px;&quot; color=&quot;#ff0000&quot;&gt;&amp;amp;mut self&lt;/font&gt;&lt;/b&gt;,args)&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;b&gt;&lt;i&gt;call(&lt;span style=&quot;font-size: 13px;&quot;&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 13px;&quot;&gt;&amp;amp;self&lt;/font&gt;&lt;/span&gt;,args)&lt;/i&gt;&lt;/b&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="340" y="600" width="161" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-10" value="[按引用]&lt;br&gt;将可变引用移入&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="520" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-11" value="消耗f, 只调一次&lt;br style=&quot;font-size: 13px;&quot;&gt;更新f, 可调多次&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="501" y="520" width="99" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-12" value="call_once(&lt;font style=&quot;border-color: var(--border-color); font-size: 13px;&quot; color=&quot;#ff0000&quot;&gt;&lt;b style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;self&lt;/b&gt;&lt;/font&gt;,args)&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;b&gt;&lt;i&gt;call_mut(&lt;span style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 13px;&quot; color=&quot;#ff0000&quot;&gt;&amp;amp;mut self&lt;/font&gt;&lt;/span&gt;,args)&lt;/i&gt;&lt;/b&gt;&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="340" y="520" width="161" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-13" value="[按值]&lt;br&gt;将值移入(&lt;font color=&quot;#ff3333&quot;&gt;&lt;b&gt;MOVE&lt;/b&gt;&lt;/font&gt;)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;fillColor=#fad9d5;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="360" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-14" value="消耗f, 只调一次&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="501" y="360" width="99" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-15" value="&lt;b&gt;&lt;i&gt;call_once(&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 13px;&quot;&gt;&lt;span style=&quot;font-size: 13px;&quot;&gt;self&lt;/span&gt;&lt;/font&gt;,args)&lt;/i&gt;&lt;/b&gt;&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="340" y="360" width="161" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-47" value="捕获模式" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="300" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-52" value="let &lt;b&gt;y = &amp;amp;x;&lt;/b&gt;&lt;br&gt;let f = Closure {&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;b style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp; &amp;nbsp; x: y,&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;/b&gt;}&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="80" y="600" width="140" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-53" value="let &lt;b&gt;y = &amp;amp;mut x;&lt;/b&gt;&lt;br&gt;let &lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 13px;&quot;&gt;&lt;b&gt;mut &lt;/b&gt;&lt;/font&gt;f = Closure {&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;b style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp; &amp;nbsp; x: y，&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;/b&gt;}&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="80" y="520" width="140" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-54" value="let f = Closure {&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;b style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp; &amp;nbsp; x: x，&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;/b&gt;}&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="80" y="360" width="140" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-55" value="伪码" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="80" y="300" width="140" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-56" value="实现特征" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="220" y="300" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-57" value="闭包执行&lt;br&gt;&lt;font style=&quot;font-size: 13px; font-weight: normal;&quot;&gt;其中&lt;/font&gt;&lt;font style=&quot;font-size: 13px;&quot;&gt;加粗&lt;/font&gt;&lt;font style=&quot;font-size: 13px; font-weight: normal;&quot;&gt;的是f()调用时默认执行的方法&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="340" y="300" width="260" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-69" value="环境影响" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="600" y="300" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-70" value="消耗环境变量&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="600" y="360" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-71" value="更改环境变量&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="600" y="520" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-72" value="无影响&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="600" y="600" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-78" value="&lt;b&gt;Fn,FnMut,FnOnce&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;align=left;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="220" y="760" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-79" value="无法捕获功能&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="760" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-80" value="共享f, 可调多次" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="501" y="760" width="99" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-81" value="call_once(&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#ff0000&quot;&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;self&lt;/b&gt;&lt;/font&gt;,args)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;call_mut(&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#ff0000&quot;&gt;&amp;amp;mut self&lt;/font&gt;&lt;/b&gt;,args)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;i style=&quot;border-color: var(--border-color);&quot;&gt;call(&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#ff0000&quot;&gt;&amp;amp;self&lt;/font&gt;&lt;/span&gt;,args)&lt;/i&gt;&lt;/b&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="340" y="760" width="161" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-82" value="let f: &lt;b style=&quot;font-size: 13px;&quot;&gt;&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 13px;&quot;&gt;fn() -&amp;gt; r&lt;/font&gt;&lt;/b&gt; = FUNC" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="80" y="760" width="140" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-83" value="无影响&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="600" y="760" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="Zlmr2kHPyGNLL76UW4VX-85" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;闭包: 环境捕获、特质实现&lt;br style=&quot;font-size: 15px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontStyle=1;fontSize=15;strokeColor=#000000;horizontal=1;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="-320" y="230" width="1040" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="2" value="闭包内逻辑" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="300" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="环境变量" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-320" y="300" width="80" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="x: T&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;spacingLeft=5;fontSize=13;fontStyle=1;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-320" y="360" width="80" height="320" as="geometry"/>
                </mxCell>
                <mxCell id="6" value="被闭包消耗了&lt;br style=&quot;font-size: 13px;&quot;&gt;转移了所有权&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="360" width="120" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="7" value="被闭包修改了&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="520" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="8" value="被闭包只读了&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="600" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="&lt;span style=&quot;color: rgb(51, 51, 51); font-size: 13px;&quot;&gt;无法捕获功能&lt;/span&gt;&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="760" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="&lt;b&gt;Fn: &lt;/b&gt;&lt;font color=&quot;#808080&quot; style=&quot;font-size: 13px;&quot;&gt;FnMut,FnOnce&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;align=left;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="220" y="680" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="14" value="不捕获&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="680" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="消耗f, 只调一次&lt;br style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;更新f, 可调多次&lt;br style=&quot;font-size: 13px;&quot;&gt;共享f, 可调多次" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="501" y="680" width="99" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="16" value="call_once(&lt;font style=&quot;border-color: var(--border-color); font-size: 13px;&quot; color=&quot;#ff0000&quot;&gt;&lt;b style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;self&lt;/b&gt;&lt;/font&gt;,args)&lt;br style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;call_mut(&lt;b style=&quot;border-color: var(--border-color); font-size: 13px;&quot;&gt;&lt;font style=&quot;border-color: var(--border-color); font-size: 13px;&quot; color=&quot;#ff0000&quot;&gt;&amp;amp;mut self&lt;/font&gt;&lt;/b&gt;,args)&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;b&gt;&lt;i&gt;call(&lt;span style=&quot;font-size: 13px;&quot;&gt;&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 13px;&quot;&gt;&amp;amp;self&lt;/font&gt;&lt;/span&gt;,args)&lt;/i&gt;&lt;/b&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="340" y="680" width="161" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="17" value="let f = Closure { }&amp;nbsp;&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="80" y="680" width="140" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="无影响&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="600" y="680" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="19" value="不捕获&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="680" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="23" value="决定了" style="endArrow=classic;html=1;strokeColor=#000000;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" parent="1" source="Zlmr2kHPyGNLL76UW4VX-47" target="Zlmr2kHPyGNLL76UW4VX-56" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="-140" y="300" as="sourcePoint"/>
                        <mxPoint x="340" y="580" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="40" y="280"/>
                            <mxPoint x="140" y="280"/>
                            <mxPoint x="230" y="280"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="25" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;功能: 在按引用捕获时, 先强制将目标值移入闭包[&lt;b style=&quot;font-size: 14px;&quot;&gt;move/copy&lt;/b&gt;],再取其引用.&lt;br style=&quot;font-size: 14px;&quot;&gt;但是: “捕获模式”依然只由闭包如何使用变量决定, 关键字&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 14px;&quot;&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;move不影响捕获模式&lt;/b&gt;&lt;/font&gt;, 所以也不影响闭包实现了哪个Fn/FnMut/FnOnce&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;br style=&quot;font-size: 14px;&quot;&gt;使用场景: &lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;按引用&lt;/b&gt;捕获时,由于闭包持有母栈帧上的数据的引用,不能逃出母栈帧,&lt;br style=&quot;font-size: 14px;&quot;&gt;此时为了闭包能逃出母栈帧,利用move将被引用的值也置入闭包中, &lt;font style=&quot;border-color: var(--border-color); font-size: 14px;&quot; color=&quot;#ff3333&quot;&gt;&lt;b style=&quot;border-color: var(--border-color); font-size: 14px;&quot;&gt;这样就可以从母栈帧逃逸,任意移动了&lt;/b&gt;&lt;br style=&quot;border-color: var(--border-color); font-size: 14px;&quot;&gt;&lt;/font&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontStyle=0;fontSize=14;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="880" width="960" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="26" value="关键字&lt;br style=&quot;font-size: 14px;&quot;&gt;move&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;spacingLeft=5;fontSize=14;fontStyle=1;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-320" y="880" width="80" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="普通函数&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;spacingLeft=5;fontSize=13;fontStyle=1;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-320" y="760" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="45" value="决定了" style="endArrow=classic;html=1;strokeColor=#000000;fontSize=13;fontColor=#000000;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="Zlmr2kHPyGNLL76UW4VX-56" target="Zlmr2kHPyGNLL76UW4VX-57" edge="1">
                    <mxGeometry x="-0.1989" width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="280" y="650" as="sourcePoint"/>
                        <mxPoint x="330" y="600" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="290" y="280"/>
                            <mxPoint x="390" y="280"/>
                            <mxPoint x="410" y="280"/>
                        </Array>
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="46" value="不捕获&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;spacingLeft=5;fontSize=13;fontStyle=1;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-320" y="680" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="47" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;其它说明&lt;br style=&quot;font-size: 15px;&quot;&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;fontStyle=1;fontSize=15;horizontal=1;verticalAlign=middle;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-320" y="840" width="1040" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="决定了" style="endArrow=classic;html=1;strokeColor=#000000;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="2" target="Zlmr2kHPyGNLL76UW4VX-47" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="290" y="630" as="sourcePoint"/>
                        <mxPoint x="340" y="580" as="targetPoint"/>
                        <Array as="points">
                            <mxPoint x="-160" y="280"/>
                            <mxPoint x="-30" y="280"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="48" value="&lt;b&gt;Fn:&lt;/b&gt;&amp;nbsp;&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#808080&quot;&gt;FnMut,FnOnce&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=13;align=left;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="220" y="440" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="49" value="[按值]&lt;br&gt;将值移入(&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#ff3333&quot;&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;COPY&lt;/b&gt;&lt;/font&gt;)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;fillColor=#fad9d5;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-40" y="440" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="消耗f, 只调一次&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;更新f, 可调多次&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;共享f, 可调多次&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="501" y="440" width="99" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="51" value="call_once(&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#ff0000&quot;&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;self&lt;/b&gt;&lt;/font&gt;,args)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;call_mut(&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#ff0000&quot;&gt;&amp;amp;mut self&lt;/font&gt;&lt;/b&gt;,args)&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&lt;b&gt;&lt;i&gt;call(&lt;span style=&quot;border-color: var(--border-color);&quot;&gt;&lt;font style=&quot;border-color: var(--border-color);&quot; color=&quot;#ff0000&quot;&gt;&amp;amp;self&lt;/font&gt;&lt;/span&gt;,args)&lt;/i&gt;&lt;/b&gt;&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="340" y="440" width="161" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="let f = Closure {&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;b style=&quot;font-size: 13px;&quot;&gt;&amp;nbsp; &amp;nbsp; x: x,&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;/b&gt;}&amp;nbsp;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="80" y="440" width="140" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="无影响&lt;br style=&quot;font-size: 13px;&quot;&gt;&lt;div style=&quot;font-size: 13px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;spacingLeft=5;fontSize=13;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="600" y="440" width="120" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="69" value="T: Copy?" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=0;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-120" y="300" width="80" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="70" value="未实现" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=15;fillColor=#fad9d5;strokeColor=#000000;fontColor=#0066CC;" parent="1" vertex="1">
                    <mxGeometry x="-120" y="360" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="71" value="已实现" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=1;fontSize=15;fillColor=#fad9d5;strokeColor=#000000;fontColor=#336600;" parent="1" vertex="1">
                    <mxGeometry x="-120" y="440" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="72" value="都行" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=0;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-120" y="520" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="73" value="都行" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=0;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-120" y="600" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="74" value="" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=0;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-120" y="680" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="75" value="" style="rounded=0;whiteSpace=wrap;html=1;fontStyle=0;fontSize=15;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-120" y="760" width="80" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="76" value="1.&lt;b style=&quot;border-color: var(--border-color); font-size: 14px;&quot;&gt;&quot;按值捕获&quot;&lt;/b&gt;就是将值移入闭包结构体,&lt;b style=&quot;font-size: 14px;&quot;&gt;&quot;按引用捕获&quot;&lt;/b&gt;就是先取值的引用再将引用移入闭包结构体.&lt;br style=&quot;font-size: 14px;&quot;&gt;2.&lt;b style=&quot;font-size: 14px;&quot;&gt;&quot;按值捕获&quot;&lt;/b&gt;受T:Copy的影响...如果实现了Copy则移入值时使用Copy语义并实现Fn,否则使用Move语义并实现FnOnce&lt;br style=&quot;font-size: 14px;&quot;&gt;3.闭包自动实现哪个Fn/FnMut/FnOnce只由捕获模式决定..(见上表)&lt;br style=&quot;font-size: 14px;&quot;&gt;4.&lt;b style=&quot;border-color: var(--border-color); font-size: 14px;&quot;&gt;&quot;按引用捕获&quot;&lt;/b&gt;&lt;span style=&quot;border-color: var(--border-color); font-size: 14px;&quot;&gt;带&lt;/span&gt;&lt;b style=&quot;border-color: var(--border-color); font-size: 14px;&quot;&gt;“&lt;/b&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;move关键字&quot;&lt;/b&gt;时,先将值移入闭包,再取值的引用,但不影响闭包的捕获模式的确定(不影响实现哪个Fn/FnMut/FnOnce)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fontSize=14;fontColor=#000000;align=left;" parent="1" vertex="1">
                    <mxGeometry x="-240" y="990" width="960" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="77" value="总结&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;div style=&quot;font-size: 14px;&quot;&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;spacingLeft=5;fontSize=14;fontStyle=1;strokeColor=#000000;" parent="1" vertex="1">
                    <mxGeometry x="-320" y="990" width="80" height="90" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>